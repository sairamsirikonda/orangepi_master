import serial
import time

# Serial configuration
serial_port = '/dev/ttyS0'  # Adjust the serial port based on your Orange Pi configuration
baudrate = 9600

ser = serial.Serial(serial_port, baudrate, timeout=0.1)

def send_command(command):
    ser.write(command.encode())
    time.sleep(1)  # Add a delay to ensure the Arduino has enough time to process the command

try:
    while True:
        # Send commands to turn the LED ON and OFF
        send_command('1')  # Turn ON
        time.sleep(2)      # Wait for 2 seconds
        send_command('0')  # Turn OFF
        time.sleep(2)      # Wait for 2 seconds

except KeyboardInterrupt:
    # Handle Ctrl+C gracefully
    pass
finally:
    # Ensure the LED is turned off before exiting
    send_command('0')
    ser.close()
